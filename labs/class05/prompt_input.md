Please review the selected code:

Identify code smells and potential bugs.
Propose a clearer, more efficient implementation.
Add type hints and a short docstring with examples.
Please, write this changes to a file code_after.py